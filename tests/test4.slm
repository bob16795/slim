inc lib/arrays.slm

gvar array 4096

proc main 0 0
  array 4096 8 (arr.new)
  1 (arr.setlen)

  0 (arr.getaddr)
  64 putc disc

  disc array

  "len: " (cstr.print)
  (arr.len) (cstr.printint)

  "44" (arr.push)
  "45" (arr.push)
  "46" (arr.push)
  "47" (arr.push)

  "len: " (cstr.print)
  (arr.len) (cstr.printint)

  array (arr.print)

  "poped: " (cstr.print)

  (arr.pop) (cstr.println)

  "len: " (cstr.print)
  (arr.len) (cstr.printint)
  
  array (arr.print)

  1 (arr.getaddr)
  64 put disc

  array (arr.print)
  
  1 (arr.extend)

  array (arr.print)

  disc
  ret
end
