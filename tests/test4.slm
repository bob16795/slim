inc stdlib.slm
inc mem.slm
inc arrays.slm

gvar seq 8

proc main 0 0
  seq int.SIZE 4096 (seq.new) put disc

  seq read
  1 (seq.setlen)

  0 (seq.getaddr)
  64 putc disc

  disc
  seq read

  "len: " (cstr.print)
  (seq.len) (int.print)

  "44" (seq.push)
  "45" (seq.push)
  "46" (seq.push)
  "47" (seq.push)

  "len: " (cstr.print)
  (seq.len) (int.print)

  seq read (seq.print)

  "poped: " (cstr.print)

  (seq.pop) (cstr.println)

  "len: " (cstr.print)
  (seq.len) (int.print)
  
  seq read (seq.print)

  1 (seq.getaddr)
  64 put disc

  seq read (seq.print)
  
  1 (seq.extend)

  seq read (seq.print)

  (seq.free)
  ret
end
