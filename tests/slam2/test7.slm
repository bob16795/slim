inc "testin.slm"
inc "std/cstr.slm"
inc "std/str.slm"
inc "std/int.slm"

var tmp 32
var str1 int.SIZE
var str2 int.SIZE

proc main 0 0

  "Split a string" testin.setup

    "lol1 lol2" ' ' tmp cstr.split
    
    "lol1" testin.cstreq
    "lol2" testin.cstreq
  
    tmp "lol1" testin.cstreq

  "Create a string" testin.next
  
    str.new
    str.new

  "Put Values into strings" testin.next

    swap `nope ` str.sput
    swap `lol ` str.sput
  
  "Concat strings" testin.next

    str.cat
 
  "Check vals" testin.next

    copy str.data .
    "nope lol " testin.cstreq
    copy str.len 9 testin.eq
 
  "Concat a cstring" testin.next

    "boi" str.catc

  "Check vals" testin.next

    copy str.data .
    "nope lol boi" testin.cstreq
    copy str.len 12 testin.eq

  "Free the string" testin.next
  
    str.free

  testin.done

  ret
end
