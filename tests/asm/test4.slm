inc "testin.slm"
inc "std/dlist.slm"
inc "std/heap.slm"
inc "std/mem.slm"

proc main 0 0
  var dlist 8

  "Create a dlist" testin.setup

    dlist int.SIZE dlist.new put disc

  "Set the length of a dlist" testin.next
  
    dlist read
    "yes"
    dlist.append

  "Set a dlist value at index" testin.next

    0 dlist.getptr
    '@' putc disc

  "Get the length of a Sequence" testin.next

    dlist read dlist.len 1 testin.eq

  "Pop from sequence" testin.next

    dlist read dlist.pop "@es" testin.cstreq

  "Check len again" testin.next

    dlist read dlist.len 0 testin.eq

  "Free the dlist" testin.next

    dlist read dlist.free
  
  testin.done

  0 quit
end
