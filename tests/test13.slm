inc maps.slm

gvar key 4
gvar value 4

gvar map int.SIZE

proc main 0 0
  (heap.init)

  map 256 3 3 (map.new) put disc

  key "lol" (cstr.copy) disc disc
  value "ab" (cstr.copy) disc disc
  
  map read key value (map.put) disc

  key "lol" (cstr.copy) disc disc
  value "cd" (cstr.copy) disc disc

  map read key value (map.put) disc

  key "llo" (cstr.copy) disc disc
  value "ef" (cstr.copy) disc disc
  
  map read key value (map.put) disc

  key "mpo" (cstr.copy) disc disc
  value "gh" (cstr.copy) disc disc

  map read key value (map.put) disc

  map read key (map.get)
  (cstr.println) disc
  
  (heap.map)
  
  map read

  copy (map.print)
  (map.free)

  0 quit
  
  ret
end
